<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Introduction to Data Analysis with R &amp; Reproducible Data Science</title>
  <meta name="description" content="Introduction to Data Analysis with R &amp; Reproducible Data Science">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Introduction to Data Analysis with R &amp; Reproducible Data Science" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="IRSAAtUMn/RWorkshop17/docs" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introduction to Data Analysis with R &amp; Reproducible Data Science" />
  
  
  

<meta name="author" content="Institute for Research in Statistics and its Applications at the University of Minnesota">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="an-r-markdown-demo.html">
<link rel="next" href="using-r-reproducibly.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Home</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-r-rstudio.html"><a href="introduction-to-r-rstudio.html"><i class="fa fa-check"></i><b>1</b> Introduction to R &amp; RStudio</a></li>
<li class="chapter" data-level="2" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>2</b> Data Visualization</a></li>
<li class="chapter" data-level="3" data-path="simple-statistics-in-r.html"><a href="simple-statistics-in-r.html"><i class="fa fa-check"></i><b>3</b> Simple Statistics in R</a></li>
<li class="chapter" data-level="4" data-path="linear-regression-in-r.html"><a href="linear-regression-in-r.html"><i class="fa fa-check"></i><b>4</b> Linear Regression in R</a></li>
<li class="chapter" data-level="5" data-path="quantile-regression-in-r.html"><a href="quantile-regression-in-r.html"><i class="fa fa-check"></i><b>5</b> Quantile Regression in R</a></li>
<li class="chapter" data-level="6" data-path="an-r-markdown-demo.html"><a href="an-r-markdown-demo.html"><i class="fa fa-check"></i><b>6</b> An R Markdown Demo</a></li>
<li class="chapter" data-level="7" data-path="git-version-control.html"><a href="git-version-control.html"><i class="fa fa-check"></i><b>7</b> Git (Version Control)</a><ul>
<li class="chapter" data-level="7.1" data-path="git-version-control.html"><a href="git-version-control.html#license"><i class="fa fa-check"></i><b>7.1</b> License</a></li>
<li class="chapter" data-level="7.2" data-path="git-version-control.html"><a href="git-version-control.html#r"><i class="fa fa-check"></i><b>7.2</b> R</a></li>
<li class="chapter" data-level="7.3" data-path="git-version-control.html"><a href="git-version-control.html#version-control"><i class="fa fa-check"></i><b>7.3</b> Version Control</a><ul>
<li class="chapter" data-level="7.3.1" data-path="git-version-control.html"><a href="git-version-control.html#what-is-it"><i class="fa fa-check"></i><b>7.3.1</b> What is It?</a></li>
<li class="chapter" data-level="7.3.2" data-path="git-version-control.html"><a href="git-version-control.html#very-old-fashioned-version-control"><i class="fa fa-check"></i><b>7.3.2</b> Very Old Fashioned Version Control</a></li>
<li class="chapter" data-level="7.3.3" data-path="git-version-control.html"><a href="git-version-control.html#a-plethora-of-version-control-systems"><i class="fa fa-check"></i><b>7.3.3</b> A Plethora of Version Control Systems</a></li>
<li class="chapter" data-level="7.3.4" data-path="git-version-control.html"><a href="git-version-control.html#why"><i class="fa fa-check"></i><b>7.3.4</b> Why?</a></li>
<li class="chapter" data-level="7.3.5" data-path="git-version-control.html"><a href="git-version-control.html#mindshare"><i class="fa fa-check"></i><b>7.3.5</b> Mindshare</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="git-version-control.html"><a href="git-version-control.html#git"><i class="fa fa-check"></i><b>7.4</b> Git</a><ul>
<li class="chapter" data-level="7.4.1" data-path="git-version-control.html"><a href="git-version-control.html#git-versus-github"><i class="fa fa-check"></i><b>7.4.1</b> Git versus GitHub</a></li>
<li class="chapter" data-level="7.4.2" data-path="git-version-control.html"><a href="git-version-control.html#git-and-github-and-rstudio"><i class="fa fa-check"></i><b>7.4.2</b> Git and GitHub and RStudio</a></li>
<li class="chapter" data-level="7.4.3" data-path="git-version-control.html"><a href="git-version-control.html#getting-git"><i class="fa fa-check"></i><b>7.4.3</b> Getting Git</a></li>
<li class="chapter" data-level="7.4.4" data-path="git-version-control.html"><a href="git-version-control.html#what"><i class="fa fa-check"></i><b>7.4.4</b> What?</a></li>
<li class="chapter" data-level="7.4.5" data-path="git-version-control.html"><a href="git-version-control.html#using-git"><i class="fa fa-check"></i><b>7.4.5</b> Using Git</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="git-version-control.html"><a href="git-version-control.html#tell-git-who-you-are"><i class="fa fa-check"></i><b>7.5</b> Tell Git Who You Are</a></li>
<li class="chapter" data-level="7.6" data-path="git-version-control.html"><a href="git-version-control.html#starting-a-new-project-locally"><i class="fa fa-check"></i><b>7.6</b> Starting a New Project Locally</a></li>
<li class="chapter" data-level="7.7" data-path="git-version-control.html"><a href="git-version-control.html#starting-a-r-project-that-will-be-a-cran-package"><i class="fa fa-check"></i><b>7.7</b> Starting a R Project that will be a CRAN Package</a></li>
<li class="chapter" data-level="7.8" data-path="git-version-control.html"><a href="git-version-control.html#cloning-an-existing-project"><i class="fa fa-check"></i><b>7.8</b> Cloning an Existing Project</a></li>
<li class="chapter" data-level="7.9" data-path="git-version-control.html"><a href="git-version-control.html#keys"><i class="fa fa-check"></i><b>7.9</b> GitHub and SSH keys</a></li>
<li class="chapter" data-level="7.10" data-path="git-version-control.html"><a href="git-version-control.html#halftime-summary"><i class="fa fa-check"></i><b>7.10</b> Halftime Summary</a></li>
<li class="chapter" data-level="7.11" data-path="git-version-control.html"><a href="git-version-control.html#everyday-git-one-computer-no-collaboration"><i class="fa fa-check"></i><b>7.11</b> Everyday Git: One Computer, No Collaboration</a><ul>
<li class="chapter" data-level="7.11.1" data-path="git-version-control.html"><a href="git-version-control.html#commits"><i class="fa fa-check"></i><b>7.11.1</b> Commits</a></li>
<li class="chapter" data-level="7.11.2" data-path="git-version-control.html"><a href="git-version-control.html#status"><i class="fa fa-check"></i><b>7.11.2</b> Status</a></li>
<li class="chapter" data-level="7.11.3" data-path="git-version-control.html"><a href="git-version-control.html#the-file-.gitignore"><i class="fa fa-check"></i><b>7.11.3</b> The File <code>.gitignore</code></a></li>
<li class="chapter" data-level="7.11.4" data-path="git-version-control.html"><a href="git-version-control.html#log"><i class="fa fa-check"></i><b>7.11.4</b> Log</a></li>
<li class="chapter" data-level="7.11.5" data-path="git-version-control.html"><a href="git-version-control.html#diff"><i class="fa fa-check"></i><b>7.11.5</b> Diff</a></li>
</ul></li>
<li class="chapter" data-level="7.12" data-path="git-version-control.html"><a href="git-version-control.html#everyday-git-github-or-multiple-computers"><i class="fa fa-check"></i><b>7.12</b> Everyday Git: GitHub or Multiple Computers</a></li>
<li class="chapter" data-level="7.13" data-path="git-version-control.html"><a href="git-version-control.html#everyday-git-collaboration"><i class="fa fa-check"></i><b>7.13</b> Everyday Git: Collaboration</a><ul>
<li class="chapter" data-level="7.13.1" data-path="git-version-control.html"><a href="git-version-control.html#setup"><i class="fa fa-check"></i><b>7.13.1</b> Setup</a></li>
<li class="chapter" data-level="7.13.2" data-path="git-version-control.html"><a href="git-version-control.html#workflow"><i class="fa fa-check"></i><b>7.13.2</b> Workflow</a></li>
</ul></li>
<li class="chapter" data-level="7.14" data-path="git-version-control.html"><a href="git-version-control.html#wrapup"><i class="fa fa-check"></i><b>7.14</b> Wrapup</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="using-r-reproducibly.html"><a href="using-r-reproducibly.html"><i class="fa fa-check"></i><b>8</b> Using R Reproducibly</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Data Analysis with R &amp; Reproducible Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="git-version-control" class="section level1">
<h1><span class="header-section-number"> 7</span> Git (Version Control)</h1>
<p><em>Author: Charles J. Geyer</em></p>
<div id="license" class="section level2">
<h2><span class="header-section-number">7.1</span> License</h2>
<p>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License (<a href="http://creativecommons.org/licenses/by-sa/4.0/" class="uri">http://creativecommons.org/licenses/by-sa/4.0/</a>).</p>
</div>
<div id="r" class="section level2">
<h2><span class="header-section-number">7.2</span> R</h2>
<ul>
<li><p>The version of R used to make this document is 3.4.0.</p></li>
<li><p>The version of the <code>rmarkdown</code> package used to make this document is 1.6.</p></li>
<li><p>The version of the <code>knitr</code> package used to make this document is 1.16.</p></li>
</ul>
</div>
<div id="version-control" class="section level2">
<h2><span class="header-section-number">7.3</span> Version Control</h2>
<div id="what-is-it" class="section level3">
<h3><span class="header-section-number">7.3.1</span> What is It?</h3>
<ul>
<li><p>revision control</p></li>
<li><p>version control</p></li>
<li><p>version control system (VCS)</p></li>
<li><p>source code control</p></li>
<li><p>source code management (SCM)</p></li>
<li><p>content tracking</p></li>
</ul>
<p>all mean the same thing.</p>
<p>It isn’t just for source code. It’s for any “content.”</p>
<p>I use it for</p>
<ul>
<li><p>classes (slides, handouts, homework assignments, tests, solutions),</p></li>
<li><p>papers (versions of the paper, tech reports, data, R scripts for data analysis),</p></li>
<li><p>R packages (the traditional source code control, although there is a lot besides source code in an R package),</p></li>
<li><p>notes (long before they turn into papers, I put them under version control).</p></li>
</ul>
</div>
<div id="very-old-fashioned-version-control" class="section level3">
<h3><span class="header-section-number">7.3.2</span> Very Old Fashioned Version Control</h3>
<pre><code>asterLA.7-3-09.tex    asterLA.10-3.tex
asterLA.7-16.tex      asterLA.10-3c.tex
asterLA.7-16c.tex     asterLA10-4.tex
asterLA.7-19.tex      asterLA10-4c.tex
asterLA.7-19c.tex     asterLA10-4d.tex
asterLA.7-19z.tex     asterLA01-12.tex
asterLA8-19.tex       asterLA01-12c.tex
asterLA8-19c.tex      asterLA01-20.tex
asterLA.9-1.tex       asterLA01-20c.tex
asterLA.9-1c.tex      asterLA02-22.tex
asterLA.9-11.tex</code></pre>
<p>A real example, file names of versions of a paper I wrote with a co-author without version control. This works but is highly sub-optimal. Only one author can work at a time because there is no good way to merge simultaneous changes. Nor is there any obvious ownership of the versions. It is hard to tell who did what when.</p>
<p>Using Dropbox for version control isn’t any better.</p>
</div>
<div id="a-plethora-of-version-control-systems" class="section level3">
<h3><span class="header-section-number">7.3.3</span> A Plethora of Version Control Systems</h3>
<p>Ripped off from Wikipedia (<a href="https://en.wikipedia.org/wiki/Version_control">under “Version control”</a>).</p>
<table>
<thead>
<tr class="header">
<th align="center">Local Only</th>
<th align="center">Client-Server</th>
<th align="center">Distributed</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">SCCS (1972)</td>
<td align="center">CVS (1986)</td>
<td align="center">BitKeeper (1998)</td>
</tr>
<tr class="even">
<td align="center">RCS (1982)</td>
<td align="center">ClearCase (1992)</td>
<td align="center">GNU arch (2001)</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center">Perforce (1995)</td>
<td align="center">Darcs (2002)</td>
</tr>
<tr class="even">
<td align="center"></td>
<td align="center">Subversion (2000)</td>
<td align="center">Monotone (2003)</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center"></td>
<td align="center">Bazaar (2005)</td>
</tr>
<tr class="even">
<td align="center"></td>
<td align="center"></td>
<td align="center">Git (2005)</td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center"></td>
<td align="center">Mercurial (2005)</td>
</tr>
</tbody>
</table>
<p>There were more, but I’ve only kept the ones I’d heard of.</p>
<p>Don’t worry. We’re only going to talk about one (git).</p>
</div>
<div id="why" class="section level3">
<h3><span class="header-section-number">7.3.4</span> Why?</h3>
<p>Section 28.1.1.1 of the GNU Emacs manual.</p>
<p>Version control systems provide you with three important capabilities:</p>
<ul>
<li><p><strong>Reversibility:</strong> the ability to back up to a previous state if you discover that some modification you did was a mistake or a bad idea.</p></li>
<li><p><strong>Concurrency:</strong> the ability to have many people modifying the same collection of files knowing that conflicting modifications can be detected and resolved.</p></li>
<li><p><strong>History:</strong> the ability to attach historical data to your data, such as explanatory comments about the intention behind each change to it. Even for a programmer working solo, change histories are an important aid to memory; for a multi-person project, they are a vitally important form of communication among developers.</p></li>
</ul>
</div>
<div id="mindshare" class="section level3">
<h3><span class="header-section-number">7.3.5</span> Mindshare</h3>
<p>Starting from nowhere in 2005, <code>git</code> and GitHub (<a href="https://github.com/" class="uri">https://github.com/</a>) have gotten dominant mindshare, at least among free and open source systems.</p>
<p>In <a href="http://www.google.com/trends/explore#q=%2Fm%2F05vqwg%2C%20%2Fm%2F012ct9%2C%20%2Fm%2F09d6g%2C%20%2Fm%2F08441_%2C%20%2Fm%2F04g0kcw&amp;cmpt=q&amp;tz=">Google Trends</a>, the only searches that are trending up are for <code>git</code> and github. Searches for competing version control systems are trending down.</p>
<p>Many well known open-source projects are on git. The Linux kernel (of course since Linus Torvalds wrote git to be the VCS for the kernel), android (as in phones), Ruby on Rails, Gnome, Qt, KDE, X, Perl, and GNU Emacs.</p>
<p>Some aren’t. R is still on Subversion. Firefox, Go, Python, Vim are on Mercurial.</p>
</div>
</div>
<div id="git" class="section level2">
<h2><span class="header-section-number">7.4</span> Git</h2>
<div id="git-versus-github" class="section level3">
<h3><span class="header-section-number">7.4.1</span> Git versus GitHub</h3>
<p>Git is a version control system. It is a command line program that can be used by itself (and, in fact, is best used that way).</p>
<p><a href="https://en.wikipedia.org/wiki/Graphical_user_interface">GUI</a> applications are available on all platforms to dumb down Git with menus and buttons.</p>
<p>GitHub is a company, like Facebook or Google, that is just as famous as them in the geek world. It offers “social coding.” Thus it is something like Facebook for software developers. You can use <code>git</code> without GitHub (or one of its competitors) but GitHub helps you show the world what you do and collaborate with the world.</p>
<p>One of the GitHub developers wrote the best book introducing Git; <a href="https://git-scm.com/book/en/v2">Pro Git</a>.</p>
<p>Still, I want to emphasize that you do not need GitHub to use Git any more than you need RStudio to use R.</p>
</div>
<div id="git-and-github-and-rstudio" class="section level3">
<h3><span class="header-section-number">7.4.2</span> Git and GitHub and RStudio</h3>
<p>RStudio facilitates using Git for R projects. It seems to require also using GitHub (but this can be worked around).</p>
<p>But if you only know how to use Git via RStudio, you will not know how to use Git for non-R projects.</p>
</div>
<div id="getting-git" class="section level3">
<h3><span class="header-section-number">7.4.3</span> Getting Git</h3>
<p>Type ``git’’ into Google and follow the first link it gives you <a href="http://git-scm.com/" class="uri">http://git-scm.com/</a>.</p>
<p>Under “downloads” it tells you how to get Git for Windows and for Mac OS X.</p>
<p>If you have Linux, it just comes with (use the installer for your distribution).</p>
<p>E. g., on Ubuntu</p>
<pre><code>sudo apt-get update
sudo apt-get install git</code></pre>
</div>
<div id="what" class="section level3">
<h3><span class="header-section-number">7.4.4</span> What?</h3>
<p>From Wikipedia under <a href="https://en.wikipedia.org/wiki/Git">Git</a>:</p>
<ul>
<li><p>Torvalds has quipped about the name <em>git,</em> which is British English slang meaning “unpleasant person.” Torvalds said: “I’m an egotistical bastard, and I name all my projects after myself. First ‘Linux’, now ‘git’.”</p></li>
<li><p>The man page describes Git as “the stupid content tracker”.</p></li>
</ul>
<p>From memory:</p>
<ul>
<li>Linus has also said that it was a short name that hadn’t already been used for a UNIX command.</li>
</ul>
</div>
<div id="using-git" class="section level3">
<h3><span class="header-section-number">7.4.5</span> Using Git</h3>
<div id="from-the-command-line" class="section level4">
<h4><span class="header-section-number">7.4.5.1</span> From the Command Line</h4>
<p>There is only one command to use Git and it is called <code>git</code>. The first command line argument specifies one of many subcommands.</p>
<pre><code>git help</code></pre>
<p>shows the frequently used subcommands (many more than we will discuss here).</p>
<p>As this also says at the bottom <code>git help -a</code> shows all subcommands and <code>git help -g</code> shows “concept guides.”</p>
<p>For example</p>
<pre><code>git help everyday</code></pre>
<p>shows about 20 git subcommands that are enough for straightforward use of git. (We won’t even discuss that many.)</p>
</div>
<div id="with-a-gui-application" class="section level4">
<h4><span class="header-section-number">7.4.5.2</span> With a GUI Application</h4>
<p>We won’t discuss this. They are all different.</p>
<p>If you are using a GUI application there is usually a way to get a UNIX command line. So anything that cannot be done graphically (menus and buttons, drag and drop) can still be done. The GUI is not as helpful as you might think.</p>
</div>
<div id="with-rstudio" class="section level4">
<h4><span class="header-section-number">7.4.5.3</span> With RStudio</h4>
<p>On the “File” menu select “New Project” and then select “Version Control” and then select “Git”.</p>
<p>Then you fill in the “Repository URL” which is something like</p>
<pre><code>git@github.umn.edu:geyer/Foo.git</code></pre>
<p>(more on this later, Section <a href="git-version-control.html#keys">GitHub and SSH keys</a> below) and “Create project as a subdirectory of”. The latter is the directory (which Windows and Macintosh call “folder”) into which you want to put the Git repository.</p>
<p>Then click “Create Project”, and you have an R project that both RStudio and GitHub know about.</p>
<p>The “Repository URL” can also be something like</p>
<pre><code>https://github.umn.edu/geyer/Foo.git</code></pre>
<p>(This is easier to use in the beginning but rapidly becomes a nuisance. More on this later. Section <a href="git-version-control.html#keys">GitHub and SSH keys</a> below.)</p>
<p>In RStudio, you can also get a UNIX command line to execute commands. The “Shell” item on the “Tools” menu, gives you a UNIX command line.</p>
</div>
</div>
</div>
<div id="tell-git-who-you-are" class="section level2">
<h2><span class="header-section-number">7.5</span> Tell Git Who You Are</h2>
<p>Before doing anything else. You have to tell Git who you are.</p>
<p>The UNIX commands</p>
<pre><code>git config --global user.name &quot;Charles J. Geyer&quot;
git config --global user.email charlie@stat.umn.edu</code></pre>
<p>do this. Of course, replace my name and e-mail address with yours.</p>
<p>If you are using a GUI application or RStudio, you probably need to escape to the command line to do this.</p>
</div>
<div id="starting-a-new-project-locally" class="section level2">
<h2><span class="header-section-number">7.6</span> Starting a New Project Locally</h2>
<p>Create a directory (a. k. a. folder) that will contain your project. Change directory into it and do <code>git init</code>. In UNIX (e. g. Linux or OS X), if the directory is <code>Foo</code>, then</p>
<pre><code>cd Foo
git init</code></pre>
<p>does the job.</p>
<p>The UNIX command</p>
<pre><code>ls -A</code></pre>
<p>shows that there is a new directory <code>.git</code> that is the hallmark of a git repository (“repo” for short). Now all Git subcommands work in this directory. The <code>.git</code> subdirectory is where Git stores all information it keeps track of. The rest of the directory is where you work.</p>
<p>If you have created the project using RStudio (as discussed above), then RStudio has run <code>git init</code> for you so you do not have to do it yourself.</p>
</div>
<div id="starting-a-r-project-that-will-be-a-cran-package" class="section level2">
<h2><span class="header-section-number">7.7</span> Starting a R Project that will be a CRAN Package</h2>
<p>If you are starting an R Project that will provide an R package, especially one intended to eventually be on <a href="https://cran.r-project.org">CRAN</a>, put the directory that contains the package <em>in</em> the Git repo. Do not try to make the Git repo the same directory as the R package. A Git repo contains a lot of stuff that an R package is not allowed to have.</p>
</div>
<div id="cloning-an-existing-project" class="section level2">
<h2><span class="header-section-number">7.8</span> Cloning an Existing Project</h2>
<pre><code>git clone git://github.com/cjgeyer/foo.git</code></pre>
<p>clones an already existing project on which a lot of work has been done (and you get it all, including all of the version control history).</p>
<p>This requires that you have set up <a href="https://en.wikipedia.org/wiki/Secure_Shell">SSH</a> for use with Git, which will be discussed below (Section <a href="git-version-control.html#keys">GitHub and SSH keys</a>).</p>
<p>Alternatively,</p>
<pre><code>git clone https://github.com/cjgeyer/foo.git</code></pre>
<p>(This is easier to use in the beginning but rapidly becomes a nuisance.)</p>
<p>This (clone an existing project) is what RStudio wants us to do and what we discussed above.</p>
</div>
<div id="keys" class="section level2">
<h2><span class="header-section-number">7.9</span> GitHub and SSH keys</h2>
<p>To use GitHub productively, you need to make an SSH key pair and tell GitHub about the public key. This allows you to only type the SSH passphrase for the key once per reboot of your computer. This is secure. Your computer remembers what it needs to remember to access github (or use SSH in other ways without typing a password or passphrase, but we won’t cover that).</p>
<p>If you don’t do this, you will have to type your GitHub password frequently to use Git. This is a nuisance.</p>
<p>Since Microsoft Windows does not come with SSH, extra work is needed to make SSH work there. <a href="http://guides.beanstalkapp.com/version-control/git-on-windows.html#installing-ssh-keys">This web page</a> explains.</p>
<p>Having gotten set up on Windows, or if you are using UNIX (Linux or OS X), where SSH just works. You do from the UNIX command line</p>
<pre><code>ssh-keygen</code></pre>
<p>(this is one UNIX command, the hyphen is part of the name). Do what it says (successfully type the same passphrase twice and after having accepted the default location for the keys or having specified another location).</p>
<p>If you manage to do this successfully, there will be two new files</p>
<pre><code>id_rsa
id_rsa.pub</code></pre>
<p>created somewhere (the default is the <code>.ssh</code> subdirectory of your home directory). The first is the private key; the second is the public key.</p>
<p>Upload the public key to GitHub. Log in to your account; on the menu triangle next to your picture (upper right corner) choose “Settings”; on the settings page, choose “SSH and GPG keys” in the navigation area on the left; then on the page that takes you to click the green button labeled “New SSH key” and fill in the resulting text area. The title can be anything. Into the “Key” textarea you cut-and-paste the contents of the <code>id_rsa.pub</code> file. To get the contents in UNIX, do</p>
<pre><code>cat id_rsa.pub</code></pre>
<p>at the command line. What you see is what you cut-and-paste into the GitHub textarea. Then click the green button labeled “Add SSH key”. If you did this successfully, it will show the “fingerprint” of the key.</p>
</div>
<div id="halftime-summary" class="section level2">
<h2><span class="header-section-number">7.10</span> Halftime Summary</h2>
<p>We are perhaps not halfway done, but the worst is over. Everything we have talked about so far only needs to be done once. It is painfully complicated, but once it is done you only need to do it again very rarely.</p>
<ul>
<li><p>You do <code>git init</code> at most once per project.</p></li>
<li><p>You do <code>git clone</code> at most once per project on each computer you want to use for development.</p></li>
<li><p>You create an SSH key at most once per computer you buy or get an account on (or after each reinstall of the operating system that blows away your account, if any).</p></li>
<li><p>You tell GitHub about the SSH key once per SSH key.</p></li>
<li><p>You tell Git your name and e-mail address similarly, at most once per per each computer you buy or get an account on.</p></li>
</ul>
<p>Now we are ready to talk about everyday use of Git.</p>
</div>
<div id="everyday-git-one-computer-no-collaboration" class="section level2">
<h2><span class="header-section-number">7.11</span> Everyday Git: One Computer, No Collaboration</h2>
<div id="commits" class="section level3">
<h3><span class="header-section-number">7.11.1</span> Commits</h3>
<p>What Git remembers is <em>commits</em> created by the git subcommand <code>git commit</code>.</p>
<p>If you never commit, then Git never does anything.</p>
<p>A Git commit consists of exactly what you say it does. Git allows precise control over what it does.</p>
<p>Most of the time you do not want such precise control. You just want Git to do the obvious. It can do that too.</p>
<p>So first the hard way, and then the easy way.</p>
<div id="the-edit-add-commit-cycle." class="section level4">
<h4><span class="header-section-number">7.11.1.1</span> The Edit, Add, Commit Cycle.</h4>
<p>There is no need to commit unless the Git repo has changed. So you edit some file in the repo so it is different from what Git remembers (in a previous commit).</p>
<p>Now if you want Git to remember the new version, you tell it first that you want it to remember the new version and second to do the commit. For example, if the file is <code>foo.R</code>, then</p>
<pre><code>git add foo.R
git commit -m &quot;A message about what the changes are&quot;</code></pre>
<p>does these two steps. If there are multiple files that have been edited, then you must do <code>git add</code> for each one you want changes remembered in the commit.</p>
<p>The <code>-m</code> argument to <code>git commit</code> is not necessary if you have told either UNIX or git what editor you use.</p>
<pre><code>git config --global core.editor vim</code></pre>
<p>or whatever editor you use instead of vim will do that job (this too is only done once per computer account you have). Then</p>
<pre><code>git commit</code></pre>
<p>will pop up an editor instance to type in the commit message.</p>
</div>
<div id="the-cycle-without-add-most-of-the-time" class="section level4">
<h4><span class="header-section-number">7.11.1.2</span> The Cycle without Add Most of the Time</h4>
<p>Doing a bunch of <code>git add</code> commands before each commit is what allows precise control of what you want the commit to remember.</p>
<p>But usually, you want the commit to remember all the changes to files Git is already tracking. One command does this:</p>
<pre><code>git commit -a</code></pre>
<p>(the <code>-a</code> flag tells Git to add all files it is already tracking).</p>
<p>When you use this pattern, you only need to say <code>git add</code> filename for new files either created since the last commit or not tracked before (not added in any previous commit).</p>
</div>
<div id="using-rstudio" class="section level4">
<h4><span class="header-section-number">7.11.1.3</span> Using RStudio</h4>
<p>The edit-add-commit cycle can also be done entirely with RStudio.</p>
<p>One can edit the file in the upper left window and commit in the upper right window. Clicking the button labeled “Commit” will pop up a window in which you can select files to add, provide a commit message, and commit.</p>
</div>
</div>
<div id="status" class="section level3">
<h3><span class="header-section-number">7.11.2</span> Status</h3>
<p>Before doing a commit, it is often useful to do</p>
<pre><code>git status</code></pre>
<p>This tells you what would be committed (either with or without <code>-a</code>) if you were to do a commit. It also lists untracked files that will not be committed unless you do <code>git add</code> on them.</p>
</div>
<div id="the-file-.gitignore" class="section level3">
<h3><span class="header-section-number">7.11.3</span> The File <code>.gitignore</code></h3>
<p>The file <code>.gitignore</code> in the top directory of the repo list files that <code>git status</code> and other git subcommands should ignore.</p>
<p>It uses wildcards (the <a href="https://git-scm.com/docs/gitignore">gitignore documentation</a> explains). For example, a <code>.gitignore</code> file that contains</p>
<pre><code>*.html
*.Rout
*.pdf</code></pre>
<p>ignores all files with those extensions (the character <code>*</code> is the wildcard character: it matches any string).</p>
<p>RStudio provides a <code>.gitignore</code> file in any Git repo it creates, but you may want to add to it.</p>
</div>
<div id="log" class="section level3">
<h3><span class="header-section-number">7.11.4</span> Log</h3>
<p>The command</p>
<pre><code>git log</code></pre>
<p>lists all commits that have been done, showing (by default) all the commit messages, the date and time, and the committer.</p>
<p>It provides an overview of the whole history of the repo.</p>
</div>
<div id="diff" class="section level3">
<h3><span class="header-section-number">7.11.5</span> Diff</h3>
<p>The command</p>
<pre><code>git diff</code></pre>
<p>shows (by default) all of the changes between the “staging area,” which contains any results of <code>git add</code> that you may have done, and the working directory.</p>
<p>If have not done any <code>git add</code> since the last commit, then it shows all of your edits to tracked files since the last commit.</p>
<p>This can be very useful.</p>
<ul>
<li><p>If working with collaborators, this is Git’s competitor to “track changes” in Microsoft Office or Libre Office. It allows you to just look at changes.</p></li>
<li><p>Even if there are no collaborators, it is often useful just to look at changes you made, especially just before a commit (to look even harder for mistakes).</p></li>
</ul>
</div>
</div>
<div id="everyday-git-github-or-multiple-computers" class="section level2">
<h2><span class="header-section-number">7.12</span> Everyday Git: GitHub or Multiple Computers</h2>
<p>If you made the repo by cloning a GitHub repository, then</p>
<pre><code>git push origin master</code></pre>
<p>will copy the latest commit to the GitHub repo. Now it is backed up there.</p>
<p>If you are using multiple computers, then you can use GitHub for communication between them. To start working on another computer, do all of the one time stuff (tell Git your name and e-mail address, make SSH keys, and put the public key on GitHub (there is a different public key for each computer, or at least for each computer account if different computers share file storage)).</p>
<p>Then clone (with <code>git clone</code>) the GitHub repo on this computer.</p>
<p>And you are ready to work on this other computer.</p>
<p>When you are finished working on this computer, do a commit, then</p>
<pre><code>git push origin master</code></pre>
<p>to push the changes to GitHub. Then on another computer (assuming no changes have been made to the working directory since the last commit on this computer; <code>git status</code> will tell you)</p>
<pre><code>git pull origin master</code></pre>
<p>will get all of the changes from GitHub.</p>
<p><strong>Warning:</strong> Either of these (<code>git push</code> or <code>git pull</code>) can fail because you did effectively simultaneous (as far as Git can tell) editing on the two computers. Then you have to figure out how to fix the issue. The commands <code>git merge</code> and <code>git stash</code> may help. The former will be discussed below, but the latter we will skip. Most of the time, there will be no trouble (there is only trouble when you make changes on both computers with no commits; then you have to somehow reconcile the changes).</p>
</div>
<div id="everyday-git-collaboration" class="section level2">
<h2><span class="header-section-number">7.13</span> Everyday Git: Collaboration</h2>
<div id="setup" class="section level3">
<h3><span class="header-section-number">7.13.1</span> Setup</h3>
<p>When working with collaborators, the simplest workflow is for each collaborator to have their own GitHub repository and for everyone to pull from everyone else.</p>
<p>Suppose you are working with one collaborator <a href="https://github.com/jfmuggs" class="uri">https://github.com/jfmuggs</a> who has an already existing GitHub repo named <code>blurfle</code>.</p>
<p>You clone it</p>
<pre><code>git clone git://github.com/jfmuggs/blurfle.git</code></pre>
<p>Now you have the <code>blurfle</code> repo on your computer. You have all of the code and all of the history. But you want to be able to push changes to where your collaborator (J. Fred Muggs, call him Fred) can see them. So you need a GitHub repo in your account.</p>
<p>So create an empty public repo (using the button labeled “New”). Don’t put a “README” file or a Gitignore file or anything. Then follow GitHub’s instructions to push the local repo to GitHub</p>
<pre><code>git remote add origin https://github.com/cjgeyer/blurfle.git
git push -u origin master</code></pre>
<p>except that doesn’t work because there is already a remote repository name <code>origin</code> (in the <code>jfmuggs</code> account). So let’s change that, and while we are at it, call neither of the GitHub repos <code>origin</code>.</p>
<pre><code>git remote rename origin fred
git remote add me https://github.com/cjgeyer/blurfle.git
git push -u me master</code></pre>
<p>Now there are two GitHub repos, both exactly the same (one in the <code>jfmuggs</code> account and one in the <code>cjgeyer</code> account). Of course, if you were doing this, you would replace my account name with yours.</p>
<p>Now Fred and I each have two repos, one local and one remote (on GitHub) that we can commit and push to. I also have another remote repo named (locally) <code>fred</code> that I can pull from. Fred should also give my GitHub repo a name; say he does</p>
<pre><code>git remote add charlie https://github.com/cjgeyer/blurfle.git</code></pre>
</div>
<div id="workflow" class="section level3">
<h3><span class="header-section-number">7.13.2</span> Workflow</h3>
<p>I make some changes and do a commit, then I push them</p>
<pre><code>git push me master</code></pre>
<p>Then I tell Fred “pull from me” (either by e-mail or by a GitHub pull request).</p>
<p>Then Fred can pull my changes</p>
<pre><code>git pull charlie master</code></pre>
<p>As always <code>git push</code> and <code>git pull</code> should only be done in a clean repo (just after a commit).</p>
<p>It gets complicated when we both make changes simultaneously. Then someone may have to reconcile any incompatible changes.</p>
<p>I get a “Pull from me” from Fred. I have uncommitted changes, so I do a commit (never pull when there are uncommitted changes). Then I do</p>
<pre><code>git pull fred master</code></pre>
<p>and it doesn’t work. Git says</p>
<pre><code>Auto-merging foo.txt
CONFLICT (content): Merge conflict in foo.txt
Automatic merge failed; fix conflicts and then commit the result.</code></pre>
<p>(if the file in which merge conflicts exist is named <code>foo.txt</code> and there may be multiple such files).</p>
<p>When we edit this file we see something like this</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Foo that Foos is not static Foo.
=======
Foo! Bar! Baz! Qux!
&gt;&gt;&gt;&gt;&gt;&gt;&gt; a26ce42b351548fb0efd61f7902358b1f69d3266</code></pre>
<p>Schematically, this is</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code></pre>
<p>then some text that was my version of what goes here, then</p>
<pre><code>=======</code></pre>
<p>then some text that was Fred’s version of what goes here, then</p>
<pre><code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; [some very long hexadecimal string, the SHA1 hash for the remote commit]</code></pre>
<p>I edit the file, replacing all of this with what I think the text should be here (naturally, I think I’m right, although not always), in this case just the one line</p>
<pre><code>Foo that Foos is not static Foo.</code></pre>
<p>and then I have to do a commit (because the pull that failed with merge conflicts did not do a commit)</p>
<pre><code>git commit -a</code></pre>
<p>accepting the default commit message that Git suggests</p>
<pre><code>Merge branch &#39;master&#39; of github.com/jfmuggs/blurfle</code></pre>
<p>Then I push and tell Fred to “Pull from me”.</p>
<p>Most pulls will work. If changes are made to two different parts of the file, Git just makes them automatically and commits the merge. It is only overlapping changes that must be fixed manually.</p>
</div>
</div>
<div id="wrapup" class="section level2">
<h2><span class="header-section-number">7.14</span> Wrapup</h2>
<p>The Git subcommands</p>
<pre><code>git init
git clone
git add
git commit
git diff
git status
git log
git help
git push
git pull
git remote</code></pre>
<p>Allow you to do most of what Git can do for you. There are many other subcommands and a huge number of options to all subcommands, including the ones listed above (and we only discussed one such option, the <code>-a</code> option to <code>git commit</code>).</p>
<p>So there is a lot more to learn about Git. But this is enough for a start.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="an-r-markdown-demo.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="using-r-reproducibly.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"download": null,
"toc": {
"collapse": "section",
"depth": 2,
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true
});
});
</script>

</body>

</html>
